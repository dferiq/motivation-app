<script>
        // 1. ADD THIS PART FIRST: Register the Service Worker
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                // This looks for the sw.js file in your GitHub folder
                navigator.serviceWorker.register('./sw.js')
                    .then(reg => console.log('Service Worker registered', reg))
                    .catch(err => console.log('Service Worker failed', err));
            });
        }

        // 2. Your existing quotes array
        const quotes = [
            { text: "Success is not final, failure is not fatal.", author: "Winston Churchill" },
            { text: "The only way to do great work is to love what you do.", author: "Steve Jobs" },
            { text: "Your time is limited, don't waste it.", author: "Steve Jobs" }
        ];

        // 3. Your existing functions
        function displayNewQuote() {
            const quote = quotes[Math.floor(Math.random() * quotes.length)];
            localStorage.setItem('lastQuote', JSON.stringify(quote));
            updateUI(quote);
            sendNotification(quote.text);
        }

        function updateUI(quote) {
            document.getElementById('quote-display').innerText = `"${quote.text}"`;
            document.getElementById('author-display').innerText = `- ${quote.author}`;
        }

        window.onload = () => {
            const saved = localStorage.getItem('lastQuote');
            if (saved) {
                updateUI(JSON.parse(saved));
            } else {
                displayNewQuote();
            }
        };

        function requestNotify() {
            Notification.requestPermission().then(permission => {
                if (permission === "granted") {
                    alert("Notifications enabled!");
                }
            });
        }

        function sendNotification(message) {
            if (Notification.permission === "granted") {
                // Updated to use the service worker for the notification
                navigator.serviceWorker.ready.then(registration => {
                    registration.showNotification("Time for Motivation!", {
                        body: message,
                        icon: "https://via.placeholder.com/128" 
                    });
                });
            }
        }
    </script>
</body>
</html>
